<ion-view view-title="New Publication">
    <ion-content>
        <div class="list">
            <label class="item item-input">
                <input ng-model="newPost.title" type="text" placeholder="Title">
            </label>
            <label class="item item-input">
                <textarea ng-model="newPost.content" placeholder="Content"></textarea>
            </label>
            <div class="item">
                <div class="form_controls">
                    <div class="upload_button_holder">
                        <div href="#" class="upload_button" ngf-select="uploadFileAvatar($file, $index)" title="upload" resetOnClick="true" >
                          <button class="button button-positive">Update image</button>
                        </div>
                    </div>
                </div>
                <div class="file">
                    <p>{{newPost.imgfile.name}} {{f.$error}} {{f.$errorParam}}</p>
                    <div class="status">{{newPost.imgfile.status}}</div>
                    <div class="progress-bar">
                      <div class="progress" style="width: {{newPost.imgfile.progress}}%" ng-init="progress=0"></div>
                    </div>
                    <div class="form_line">
                        <div class="form_controls">
                            <div class="preview">
                                <img ng-show="newPost.photo" style="width: 80%" ng-src="{{newPost.photo}}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item">
                <button ng-click="cancel()" class="button button-assertive">Cancel</button>
                <button ng-click="sendNewPost()" class="button button-balanced o_floatRight">Send!</button>
            </div>
        </div>
    </ion-content>
</ion-view>
