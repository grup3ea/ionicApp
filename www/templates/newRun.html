<ion-view view-title="New Run">
    <ion-content>
        Current position: {{lat}} - {{long}}
        <button ng-click="showPopup()" ng-show="running==false" class="button button-block o_bPurple">
            Start running!
        </button>
        <button ng-click="stopRun()" ng-show="running==true" class="button button-block o_bRed">
            Stop running! {{newRun.distance}} Km
        </button>

        <ng-map zoom="18" center="[{{lat}}, {{long}}]">
            <shape
            name="{{vm.run.name}}"
            stroke-color="#68c3f0"
            stroke-opacity="0.8"
            path="{{vm.run.path}}"
            paths="{{vm.run.paths}}"
            bounds="{{vm.run.bounds}}"
            center="{{vm.run.center}}"
            radius="{{vm.run.radius}}"
            stroke-weight="10"></shape>
        </ng-map>
        <div class="list">
            <div class="item" ng-repeat="position in newRun.positions | orderBy: -date">
                <span class="item-note">
                    {{position.date | date: "dd/MM/yyyy, HH:mm"}}
                </span>
                <p>{{position.distance | number : 3}}</p>
                <p>{{position.lat}} - {{position.long}}</p>
            </div>
        </div>
    </ion-content>
</ion-view>
